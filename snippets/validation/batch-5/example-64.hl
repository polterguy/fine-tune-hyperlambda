/*
 * Fetches recent orders from the [logisticsDB] database.
 *
 * The [status.eq] argument is optional and, when provided, filters orders by their current status
 * (e.g., 'shipped', 'pending'). Without this, it returns the latest orders regardless of status.
 */
.arguments
   status.eq:string

data.connect:logisticsDB

   add:x:@data.connect/*/data.read/*/where/*/and
      get-nodes:x:@.arguments/*/status.eq
   data.read
      table:Orders
      limit:10
      where
         and
   yield
      orders:x:@data.read/*
