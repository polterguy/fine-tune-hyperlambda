/*
 * Read 20 rows from the [Track] table in the 'chinook' database and
 * add only those tracks to [.long_tracks] where [Milliseconds] is greater than 300000
 * using [data.connect], [data.read], [for-each], [if], [mt], [get-value], and [add].
 */
.long_tracks
data.connect:chinook
   data.read
      table:Track
      limit:int:20
   for-each:x:@data.read/*
      if
         mt
            get-value:x:@.dp/#/*/Milliseconds
            .:int:300000
         .lambda
            add:x:@.long_tracks
               get-nodes:x:@.dp/#
