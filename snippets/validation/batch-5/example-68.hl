/*
 * This endpoint returns data from the [Events] table in the [eventsDB] database.
 *
 * It optionally accepts [limit] and [offset] arguments of type [long],
 * which allow clients to control the size and position of the result set.
 * These are useful for paginating large datasets or implementing infinite scrolling in UIs.
 *
 * The [add] slot conditionally inserts these arguments into the [data.read] query,
 * ensuring they are only applied if providedâ€”otherwise, the query runs unbounded.
 *
 * This pattern supports efficient data retrieval without enforcing strict pagination logic.
 */
.arguments
   limit:long
   offset:long

data.connect:eventsDB

   add:x:@data.connect/*/data.read
      get-nodes:x:@.arguments/*/limit
      get-nodes:x:@.arguments/*/offset
   data.read
      table:Events
   yield
      events:x:@data.read/*
