/*
 * This endpoint retrieves records from the [Events] table in the [eventsDB] database.
 *
 * It accepts two **optional** arguments: [limit] and [offset], both of type [long].
 * These arguments allow the caller to control paginationâ€”[limit] defines how many rows to return,
 * and [offset] defines the starting point within the dataset.
 *
 * The use of the [add] slot ensures that [limit] and [offset] are **only included**
 * in the [data.read] invocation if they are explicitly specified by the caller.
 * This makes both arguments fully optional, allowing the endpoint to function without pagination if desired.
 *
 * This flexible design supports use cases where clients may or may not want to paginate results,
 * without requiring hardcoded defaults or enforcing unnecessary constraints.
 */
.arguments
   limit:long
   offset:long

data.connect:eventsDB

   add:x:@data.connect/*/data.read
      get-nodes:x:@.arguments/*/limit
      get-nodes:x:@.arguments/*/offset
   data.read
      table:Events
   yield
      events:x:@data.read/*
