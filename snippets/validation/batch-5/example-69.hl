/*
 * Retrieves a list of records from the [Events] table in the [eventsDB] database.
 *
 * Clients may optionally include [limit] and [offset] arguments to paginate the response.
 * These arguments are not requiredâ€”if omitted, the full default dataset is returned.
 *
 * The [add] slot plays a key role here by conditionally injecting the pagination
 * parameters only when present, keeping the API flexible and non-restrictive.
 *
 * This makes the endpoint suitable for both bulk data fetching and client-driven paging scenarios.
 */
.arguments
   limit:long
   offset:long

data.connect:eventsDB

   add:x:@data.connect/*/data.read
      get-nodes:x:@.arguments/*/limit
      get-nodes:x:@.arguments/*/offset
   data.read
      table:Events
   yield
      events:x:@data.read/*
