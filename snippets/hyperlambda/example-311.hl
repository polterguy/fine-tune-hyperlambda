/*
 * FILE: /modules/api/products/available.get.hl
 *
 * DESCRIPTION:
 * Lists available products in stock using raw SQL.
 * Demonstrates basic filtering logic using SQL inside [data.select].
 *
 * HOW TO CREATE THIS ENDPOINT:
 * Save to `/modules/products/available.get.hl`, and it becomes available at:
 *     GET /magic/modules/products/available
 */

data.connect:shop
   data.select:SELECT name, quantity FROM products WHERE quantity > 0

   yield
      result:x:@data.select/*
