
/*
 * // This code iterates over each node resulting from the expression [@data.read/*], and for each node, it performs several operations to construct prompt and completion strings. It concatenates the value of the [prompt] node with " ->" and the value of the [completion] node with " END", then unwraps and adds these to a [snippets] node. The purpose is to format and organize data into a specific structure for further processing or storage.
 * // 1. [for-each:x:@data.read/*] - Iterates over each node resulting from the expression.
 * // 2. [.prompt] - Declares a node to store the formatted prompt string.
 * // 3. [.completion] - Declares a node to store the formatted completion string.
 * // 4. [set-value:x:@.prompt] - Sets the value of the [.prompt] node to a concatenated string.
 * // 5. [strings.concat] - Concatenates strings to form the prompt.
 * // 6. [get-value:x:@.dp/#/*/prompt] - Retrieves the value of the [prompt] node from the current iteration.
 * // 7. [.: ->] - Static string added to the prompt.
 * // 8. [set-value:x:@.completion] - Sets the value of the [.completion] node to a concatenated string.
 * // 9. [strings.concat] - Concatenates strings to form the completion.
 * // 10. [get-value:x:@.dp/#/*/completion] - Retrieves the value of the [completion] node from the current iteration.
 * // 11. [.: END] - Static string added to the completion.
 * // 12. [unwrap:x:+/*/*/*] - Unwraps nested nodes for further processing.
 * // 13. [add:x:@.snippets] - Adds the formatted prompt and completion to the [snippets] node.
 * // 14. [.] - Declares an anonymous node to hold the prompt and completion.
 * // 15. [prompt:x:@.prompt] - Adds the formatted prompt to the [snippets] node.
 * // 16. [completion:x:@.completion] - Adds the formatted completion to the [snippets] node.
 */
for-each:x:@data.read/*
   .prompt
   .completion
   set-value:x:@.prompt
      strings.concat
         get-value:x:@.dp/#/*/prompt
         .:" ->"
   set-value:x:@.completion
      strings.concat
         get-value:x:@.dp/#/*/completion
         .:" END"
   unwrap:x:+/*/*/*
   add:x:@.snippets
      .
         .
            prompt:x:@.prompt
            completion:x:@.completion
