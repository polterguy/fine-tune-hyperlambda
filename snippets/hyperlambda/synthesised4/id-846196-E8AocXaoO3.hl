
/*
 * This Hyperlambda code continuously evaluates a loop while a condition is true. It first converts session data to Hyperlambda format, then checks if the sum of max_tokens, tokenized lambda, and extra-tokens is less than model_size. If true, it sets a continuation flag to false. Otherwise, it concatenates session data with a fixed value, converts the result to a specific type, and removes nodes accordingly. The loop iterates until the condition is no longer met. 
 * 
 * 1. [while] - Initiates a loop that continues while the condition is true.
 * 2. [lambda2hyper] - Converts session data to Hyperlambda format.
 * 3. [if] - Checks if the sum of tokens is less than model_size.
 * 4. [lt] - Compares the sum of tokens with model_size.
 * 5. [math.add] - Adds max_tokens, tokenized lambda, and extra-tokens.
 * 6. [openai.tokenize] - Tokenizes the lambda expression.
 * 7. [set-value] - Sets the continuation flag to false if the condition is met.
 * 8. [else] - Executes if the condition is not met.
 * 9. [strings.concat] - Concatenates session data with a fixed value.
 * 10. [set-x] - Sets a node to remove-nodes.
 * 11. [convert] - Converts the concatenated result to a specific type.
 * 12. [remove-nodes] - Removes nodes based on the converted result.
 */
while:x:@.cont
   lambda2hyper:x:@.session/*
   if
      lt
         math.add
            get-value:x:@.arguments/*/max_tokens
            openai.tokenize:x:@lambda2hyper
            get-value:x:@.extra-tokens
         get-value:x:@.arguments/*/model_size
      .lambda
         set-value:x:@.cont
            .:bool:false
   else
      strings.concat
         .:@.session/
         get-value:x:@.fixed
      set-x:x:./*/remove-nodes
         convert:x:@strings.concat
            type:x
      remove-nodes
