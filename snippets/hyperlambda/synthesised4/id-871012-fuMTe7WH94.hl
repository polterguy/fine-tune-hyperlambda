
// This Hyperlambda code snippet checks if the number of tokens required for a given text (pointed to by [.tmp]) is less than 4000 using the [lt] slot. If the condition is true, it sets the value of [.context] to the value of [.tmp]. The [openai.tokenize] slot is used to determine the token count for the text.
if
   lt
      openai.tokenize:x:@.tmp
      .:int:4000
   .lambda
      set-value:x:@.context
         get-value:x:@.tmp
