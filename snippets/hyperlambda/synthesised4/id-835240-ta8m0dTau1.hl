
// This Hyperlambda code performs an HTTP POST request to the OpenAI API to generate chat completions. It includes headers for authorization and content type, and specifies the response format as event-stream. The payload contains parameters for the model, token limit, and temperature, along with system and user messages, where the system message content is dynamically retrieved from the massagePrompt argument, and the user message content is extracted from the completion node.
http.post:"https://api.openai.com/v1/chat/completions"
   convert:bool:true
   headers
      Authorization:x:@.token
      Content-Type:application/json
      Accept:text/event-stream
   payload
      model:gpt-3.5-turbo
      max_tokens:int:1000
      temperature:decimal:0.3
      messages
         .
            role:system
            content:x:@.arguments/*/massagePrompt
         .
            role:user
            content:x:@.dp/#/*/completion
