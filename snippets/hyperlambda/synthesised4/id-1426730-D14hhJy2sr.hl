
/*
 * // This Hyperlambda code processes a sitemap by checking if a given URL starts with "http://" or "https://". If it does, it adds the URL directly to the sitemap. If not, it constructs a full URL by concatenating a domain with the value, replacing double slashes with a single slash, and then adds it to the sitemap.
 * // 1. [case:sitemap] - Initiates a case statement for processing sitemap entries.
 * // 2. [if] - Checks a condition to determine the next steps.
 * // 3. [or] - Evaluates if either of the following conditions is true.
 * // 4. [strings.starts-with] - Checks if the URL starts with "http://".
 * // 5. [strings.starts-with] - Checks if the URL starts with "https://".
 * // 6. [.lambda] - Executes the following block if the condition is true.
 * // 7. [unwrap] - Evaluates and executes the expressions in the current context.
 * // 8. [add] - Adds the URL to the sitemap.
 * // 9. [else] - Executes the following block if the [if] condition is false.
 * // 10. [strings.concat] - Concatenates the domain with the URL value.
 * // 11. [strings.replace] - Replaces double slashes with a single slash in the concatenated string.
 * // 12. [unwrap] - Evaluates and executes the expressions in the current context.
 * // 13. [add] - Adds the processed URL to the sitemap.
 */
case:sitemap
   if
      or
         strings.starts-with:x:@.value
            .:"http://"
         strings.starts-with:x:@.value
            .:"https://"
      .lambda
         unwrap:x:+/*/*
         add:x:@.sitemap
            .
               .:x:@.value
   else
      strings.concat
         get-value:x:@.domain
         .:/
         get-value:x:@.value
      strings.replace:x:@strings.concat
         .://
         .:/
      unwrap:x:+/*/*
      add:x:@.sitemap
         .
            .:x:@strings.replace
