
/*
 * This Hyperlambda code checks if an HTTP GET request's response does not contain HTML content. It uses an [if] statement with [or] to determine if the [Content-Type] header is missing or does not start with "text/html". If either condition is true, it logs an error with [log.error], concatenates an error message using [strings.concat], and throws an exception with [throw]. 
 * 
 * 1. [if] - Initiates a conditional check.
 * 2. [or] - Combines two conditions, executing the block if either is true.
 * 3. [not-exists] - Checks if the [Content-Type] header does not exist.
 * 4. [not] - Inverts the following condition.
 * 5. [strings.starts-with] - Checks if the [Content-Type] header starts with "text/html".
 * 6. [.lambda] - Executes the following block if the condition is true.
 * 7. [log.error] - Logs an error message with details about the URL and content type.
 * 8. [strings.concat] - Concatenates a custom error message.
 * 9. [throw] - Throws an exception with the concatenated error message.
 */
if
   or
      not-exists:x:@http.get/*/headers/*/Content-Type
      not
         strings.starts-with:x:@http.get/*/headers/*/Content-Type
            .:text/html
   .lambda
      log.error:URL did not return HTML content
         url:x:@.arguments/*/url
         content-type:x:@http.get/*/headers/*/Content-Type
      strings.concat
         .:"URL did not return HTML content but '"
         get-value:x:@http.get/*/headers/*/Content-Type
         .:"' content"
      throw:x:-
