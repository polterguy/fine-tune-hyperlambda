
// This Hyperlambda code iterates over each node in the [data.select] collection using [for-each], and for each node, it changes the name of a specific sub-node to the value of its [prompt] child node. It then evaluates and unwraps the next sibling node, and finally adds a new node with a value derived from the [completion] child node of the current iteration to the beginning of the [data] node.
for-each:x:@data.select/*
   set-name:x:./*/add/[0,1]/*/*
      get-value:x:@.dp/#/*/prompt
   unwrap:x:+/*/*
   add:x:@.data/0/-
      .
         foo:x:@.dp/#/*/completion
