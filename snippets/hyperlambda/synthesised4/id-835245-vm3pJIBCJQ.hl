
/*
 * This Hyperlambda code checks if the [system_message] argument is not null and not an empty string using [and] with [not-null] and [neq]. If true, it executes the [.lambda] block, which unpacks content from a nested structure and adds a new node to the [session] with a [role] of "system" and the [content] from [system_message]. 
 * 
 * 1. [if] - Begins a conditional check.
 * 2. [and] - Combines multiple conditions that must all be true.
 * 3. [not-null] - Checks if [system_message] is not null.
 * 4. [neq] - Ensures [system_message] is not an empty string.
 * 5. [.lambda] - Executes if conditions are true.
 * 6. [unwrap] - Extracts content from a nested structure.
 * 7. [add] - Appends a node to [session] with specified children.
 * 8. [role] - Sets the role to "system".
 * 9. [content] - Assigns the content from [system_message].
 */
if
   and
      not-null:x:@.arguments/*/system_message
      neq:x:@.arguments/*/system_message
         .:
   .lambda
      unwrap:x:+/*/*/*/content
      add:x:@.session
         .
            .
               role:system
               content:x:@.arguments/*/system_message
