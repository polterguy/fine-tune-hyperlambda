/*
 * HTTP API endpoint for listing employee records from the HR system.
 * Publicly accessible, no authentication required.
 * Supports filtering by department and job title.
 */
.arguments
   limit:long
   offset:long
   order:string
   direction:string
   Department.eq:string
   Title.like:string

data.connect:hr
   add:x:./*/data.read
      get-nodes:x:@.arguments/*/order
      get-nodes:x:@.arguments/*/direction
   remove-nodes:x:@.arguments/*/order
   remove-nodes:x:@.arguments/*/direction

   add:x:./*/data.read
      get-nodes:x:@.arguments/*/limit
      get-nodes:x:@.arguments/*/offset
   remove-nodes:x:@.arguments/*/limit
   remove-nodes:x:@.arguments/*/offset

   add:x:./*/data.read/*/where/*
      get-nodes:x:@.arguments/*

   data.read
      table:Employees
      columns
         EmployeeId
         FirstName
         LastName
         Department
         Title
      where
         and

   return-nodes:x:@data.read/*
