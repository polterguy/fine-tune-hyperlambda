
// Create a conditional block using [if] that checks if the value of [.iterations] is less than or equal to 1. If so, log an error message, and then send several socket signals to the session in [.session], each with different [args] nodes: one for function_error, one for function_waiting set to false, one for error with status 500 and a message, and finally one for finished set to true.
if
   lte:x:@.iterations
      .:int:1
   .lambda
      log.error:Too many function invocations
      sockets.signal:x:@.session
         args
            function_error:Too many function invocations
      sockets.signal:x:@.session
         args
            function_waiting:bool:false
      sockets.signal:x:@.session
         args
            error:bool:true
            status:int:500
            message:Too many function invocations. Configure your type to handle more invocations or change your prompt.
      sockets.signal:x:@.session
         args
            finished:bool:true
