
// Write Hyperlambda that checks if the [.new-prompt] node is not null and not empty, and if so, gets the content from a sibling node three levels up, then adds a new node to the [.session] node with children [role] set to "system" and [content] set to the value of [.new-prompt].
if
   and
      not-null:x:@.new-prompt
      neq:x:@.new-prompt
         .:
   .lambda
      unwrap:x:+/*/*/*/content
      add:x:@.session
         .
            .
               role:system
               content:x:@.new-prompt
