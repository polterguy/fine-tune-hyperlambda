
// Create a conditional branch using [if] that checks two conditions using [and]: first, that the node [.new-prompt] is not null using [not-null], and second, that [.new-prompt] is not equal to an empty string using [neq]. If both conditions are true, execute a lambda that first uses [unwrap] to evaluate the [content] node several levels up in the hierarchy using the expression `x:+/*/*/*/content`, and then adds a new node to [.session] with a child node containing a [role] node set to "system" and a [content] node set to the value of [.new-prompt].
if
   and
      not-null:x:@.new-prompt
      neq:x:@.new-prompt
         .:
   .lambda
      unwrap:x:+/*/*/*/content
      add:x:@.session
         .
            .
               role:system
               content:x:@.new-prompt
