
// Create a conditional block using [if] that checks if the value of the [.iterations] node is less than or equal to 1 using the [lte] slot. If the condition is true, execute a lambda that logs an error message and sends multiple [sockets.signal] messages to the session, each with different arguments indicating function error, function waiting state, error status, and a finished flag.
if
   lte:x:@.iterations
      .:int:1
   .lambda
      log.error:Too many function invocations
      sockets.signal:x:@.session
         args
            function_error:Too many function invocations
      sockets.signal:x:@.session
         args
            function_waiting:bool:false
      sockets.signal:x:@.session
         args
            error:bool:true
            status:int:500
            message:Too many function invocations. Configure your type to handle more invocations or change your prompt.
      sockets.signal:x:@.session
         args
            finished:bool:true
