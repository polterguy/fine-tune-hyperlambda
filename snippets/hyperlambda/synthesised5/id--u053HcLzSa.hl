
/*
 * 1. The first [if] statement checks whether the folder [/etc/stripe-subscription-templates/] exists using [io.folder.exists]. If it does not exist, [io.folder.create] is invoked to create the folder.
 * 2. The second [if] statement checks whether the file [/etc/stripe-subscription-templates/templates.hl] exists using [io.file.exists]. If the file does not exist, a [.default-templates] node is constructed containing three predefined subscription template objects (Basic, Professional, Enterprise), each with detailed attributes such as [name], [description], [price], [currency], [period], [role], [price_id], and [max_messages].
 * 3. The [io.file.save] slot is then used to persist these default templates to the [/etc/stripe-subscription-templates/templates.hl] file. The content is generated by converting the [.default-templates] node structure into a Hyperlambda string using [lambda2hyper].
 * 
 * Use cases:
 * - Ensuring required configuration folders and files for Stripe subscription templates are created automatically on application startup.
 * - Initializing a system with default subscription options if no templates currently exist, providing a fallback for first-time deployments.
 * - Restoring or recreating default template files if they are deleted or missing, maintaining system integrity.
 * - Automating the setup of subscription tiers for environments where manual file management is discouraged or error-prone.
 */
if
   not
      io.folder.exists:/etc/stripe-subscription-templates/
   .lambda
      io.folder.create:/etc/stripe-subscription-templates/
if
   not
      io.file.exists:/etc/stripe-subscription-templates/templates.hl
   .lambda
      .default-templates
         .
            name:Basic
            description:Basic subscription, gives you up to 50 queries per day.
            price:29
            currency:USD
            period:month
            role:basic
            price_id:price_BASIC_PRICE_REFERENCE
            max_messages:int:50
         .
            name:Professional
            description:Professional subscription, gives you up to 150 queries per day.
            price:79
            currency:USD
            period:month
            role:professional
            price_id:price_PROFESSIONAL_PRICE_REFERENCE
            max_messages:int:150
         .
            name:Enterprise
            description:Enterprise subscription, gives you up to 400 queries per day.
            price:179
            currency:USD
            period:month
            role:enterprise
            price_id:price_ENTERPRISE_PRICE_REFERENCE
            max_messages:int:400
      io.file.save:/etc/stripe-subscription-templates/templates.hl
         lambda2hyper:x:@.default-templates/*
