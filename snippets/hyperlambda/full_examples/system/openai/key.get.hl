
/*
 * Create an endpoint that returns the OpenAI API key configured in the system.
 *
 * This endpoint is secured and only accessible to users with root privileges.
 * It reads the OpenAI API key from the configuration setting [magic:openai:key],
 * and returns it as the result.
 */
.arguments

// Making sure user has access to invoked endpoint.
auth.ticket.verify:root

// Reading OpenAI API key from configuration.
config.get:"magic:openai:key"

// Returning key to caller.
unwrap:x:+/*
return
   result:x:@config.get
